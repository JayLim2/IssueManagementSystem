<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head th:include="libs :: headerFragment">
    <title id="pageTitle">Добавить - Справочник приоритетов задач</title>
</head>
<body>
<div th:replace="menu :: menu"></div>

<div class="container" style="padding-top:20px;">
    <h1>Добавить тип задач</h1>

    <div th:if="${error != null}">
        <div class="err-msg" th:text="${error}">
        </div>
    </div>

    <div th:if="${info != null}"
         th:text="${info}"
         class="info-msg">
    </div>

    <div class="warn-msg" th:if="${statuses == null || statuses.size() == 0}">
        Создание типов задач ограничено, т.к. нет ни одного <a href="/handbook/issueWorkflowStatuses/add">статуса
        рабочего процесса</a>.
    </div>
    <form action="" method="post" th:unless="${statuses == null || statuses.size() == 0}">
        <div class="table-block">
            <div class="table-row">
                <div class="table-cell" style="width:200px">
                    <b class="required-field-marker">Название типа:</b>
                </div>
                <div class="table-cell">
                    <input type="text" class="input" name="name" placeholder="Например, Дефект"/>
                </div>
            </div>
            <div class="table-row">
                <div class="table-cell" style="vertical-align:top;width:200px">
                    <b class="required-field-marker">Выберите статусы рабочего процесса, допустимые для данного
                        типа:</b>
                </div>
                <div class="table-cell" style="vertical-align:top;">
                    <select multiple name="statuses" class="input">
                        <option th:each="status : ${statuses}"
                                th:value="${status.getId()}"
                                th:text="${status.getName()}">
                        </option>
                    </select>
                </div>
            </div>
            <div class="table-row">
                <div class="table-cell" style="width:200px">
                </div>
                <div class="table-cell">
                    <input type="submit" class="submit-btn" value="Добавить"/>
                </div>
            </div>
        </div>
    </form>
</div>
</body>
</html>